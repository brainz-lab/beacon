<%= form_with model: [@project, status_page], url: status_page.persisted? ? dashboard_project_status_page_path(@project, status_page) : dashboard_project_status_pages_path(@project), class: "space-y-6 p-6 rounded-xl", style: "background: #FFFFFE; border: 1px solid #E8E5E0;" do |f| %>
  <% if status_page.errors.any? %>
    <div class="p-4 rounded-lg" style="background: #FEE8E8;">
      <ul class="list-disc pl-5 space-y-1">
        <% status_page.errors.full_messages.each do |message| %>
          <li class="text-[13px]" style="color: #B45555;"><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="grid grid-cols-2 gap-4">
    <div>
      <%= f.label :name, class: "block text-[13px] font-medium", style: "color: #1A1A1A;" %>
      <%= f.text_field :name, class: "mt-1 block w-full px-3 py-2 text-[13px] rounded-lg focus:outline-none focus:ring-2", style: "background: #FFFFFE; border: 1px solid #E8E5E0; color: #1A1A1A;", placeholder: "API Status" %>
    </div>
    <div>
      <%= f.label :slug, "URL Slug", class: "block text-[13px] font-medium", style: "color: #1A1A1A;" %>
      <%= f.text_field :slug, class: "mt-1 block w-full px-3 py-2 text-[13px] rounded-lg focus:outline-none focus:ring-2", style: "background: #FFFFFE; border: 1px solid #E8E5E0; color: #1A1A1A;", placeholder: "api-status" %>
      <p class="mt-1 text-[12px]" style="color: #8B8780;">URL: /status/<%= status_page.slug.presence || "your-slug" %></p>
    </div>
  </div>

  <div>
    <%= f.label :custom_domain, class: "block text-[13px] font-medium", style: "color: #1A1A1A;" %>
    <%= f.text_field :custom_domain, class: "mt-1 block w-full px-3 py-2 text-[13px] rounded-lg focus:outline-none focus:ring-2", style: "background: #FFFFFE; border: 1px solid #E8E5E0; color: #1A1A1A;", placeholder: "status.example.com" %>
  </div>

  <div class="pt-6" style="border-top: 1px solid #E8E5E0;">
    <h4 class="text-[14px] font-medium mb-4" style="color: #1A1A1A;">Branding</h4>

    <div class="grid grid-cols-2 gap-4">
      <div>
        <%= f.label :company_name, class: "block text-[13px] font-medium", style: "color: #1A1A1A;" %>
        <%= f.text_field :company_name, class: "mt-1 block w-full px-3 py-2 text-[13px] rounded-lg focus:outline-none focus:ring-2", style: "background: #FFFFFE; border: 1px solid #E8E5E0; color: #1A1A1A;" %>
      </div>
      <div>
        <%= f.label :company_url, class: "block text-[13px] font-medium", style: "color: #1A1A1A;" %>
        <%= f.url_field :company_url, class: "mt-1 block w-full px-3 py-2 text-[13px] rounded-lg focus:outline-none focus:ring-2", style: "background: #FFFFFE; border: 1px solid #E8E5E0; color: #1A1A1A;", placeholder: "https://example.com" %>
      </div>
    </div>

    <div class="mt-4">
      <%= f.label :description, class: "block text-[13px] font-medium", style: "color: #1A1A1A;" %>
      <%= f.text_area :description, rows: 2, class: "mt-1 block w-full px-3 py-2 text-[13px] rounded-lg focus:outline-none focus:ring-2", style: "background: #FFFFFE; border: 1px solid #E8E5E0; color: #1A1A1A;" %>
    </div>

    <div class="grid grid-cols-3 gap-4 mt-4">
      <div>
        <%= f.label :logo_url, class: "block text-[13px] font-medium", style: "color: #1A1A1A;" %>
        <%= f.url_field :logo_url, class: "mt-1 block w-full px-3 py-2 text-[13px] rounded-lg focus:outline-none focus:ring-2", style: "background: #FFFFFE; border: 1px solid #E8E5E0; color: #1A1A1A;" %>
      </div>
      <div>
        <%= f.label :favicon_url, class: "block text-[13px] font-medium", style: "color: #1A1A1A;" %>
        <%= f.url_field :favicon_url, class: "mt-1 block w-full px-3 py-2 text-[13px] rounded-lg focus:outline-none focus:ring-2", style: "background: #FFFFFE; border: 1px solid #E8E5E0; color: #1A1A1A;" %>
      </div>
      <div>
        <%= f.label :primary_color, class: "block text-[13px] font-medium", style: "color: #1A1A1A;" %>
        <%= f.color_field :primary_color, class: "mt-1 block w-full h-10 rounded-lg", style: "border: 1px solid #E8E5E0;" %>
      </div>
    </div>
  </div>

  <div class="pt-6" style="border-top: 1px solid #E8E5E0;">
    <h4 class="text-[14px] font-medium mb-4" style="color: #1A1A1A;">Display Options</h4>

    <div class="space-y-3">
      <div class="flex items-center gap-2">
        <%= f.check_box :public, class: "h-4 w-4 rounded", style: "border: 1px solid #E8E5E0;" %>
        <%= f.label :public, "Public (accessible without authentication)", class: "text-[13px]", style: "color: #6B6760;" %>
      </div>
      <div class="flex items-center gap-2">
        <%= f.check_box :show_uptime, class: "h-4 w-4 rounded", style: "border: 1px solid #E8E5E0;" %>
        <%= f.label :show_uptime, "Show uptime percentages", class: "text-[13px]", style: "color: #6B6760;" %>
      </div>
      <div class="flex items-center gap-2">
        <%= f.check_box :show_response_time, class: "h-4 w-4 rounded", style: "border: 1px solid #E8E5E0;" %>
        <%= f.label :show_response_time, "Show response times", class: "text-[13px]", style: "color: #6B6760;" %>
      </div>
      <div class="flex items-center gap-2">
        <%= f.check_box :show_incidents, class: "h-4 w-4 rounded", style: "border: 1px solid #E8E5E0;" %>
        <%= f.label :show_incidents, "Show incident history", class: "text-[13px]", style: "color: #6B6760;" %>
      </div>
      <div class="flex items-center gap-2">
        <%= f.check_box :allow_subscriptions, class: "h-4 w-4 rounded", style: "border: 1px solid #E8E5E0;" %>
        <%= f.label :allow_subscriptions, "Allow email/SMS subscriptions", class: "text-[13px]", style: "color: #6B6760;" %>
      </div>
    </div>

    <div class="mt-4">
      <%= f.label :uptime_days_shown, "Days of uptime history to show", class: "block text-[13px] font-medium", style: "color: #1A1A1A;" %>
      <%= f.select :uptime_days_shown, [[30, 30], [60, 60], [90, 90]], {}, class: "mt-1 block w-full px-3 py-2 text-[13px] rounded-lg focus:outline-none focus:ring-2", style: "background: #FFFFFE; border: 1px solid #E8E5E0; color: #1A1A1A;" %>
    </div>
  </div>

  <div class="flex justify-end gap-3 pt-4">
    <%= link_to "Cancel", dashboard_project_status_pages_path(@project), class: "px-4 py-2 text-[13px] font-medium rounded-lg transition-colors", style: "background: #FFFFFE; border: 1px solid #E8E5E0; color: #1A1A1A;" %>
    <%= f.submit status_page.persisted? ? "Update Status Page" : "Create Status Page", class: "px-4 py-2 text-[13px] font-medium rounded-lg cursor-pointer transition-colors", style: "background: #1A1A1A; color: #FFFFFE;" %>
  </div>
<% end %>
