/*
 * Beacon Dark Mode Support
 * Uses BrainzLab UI design tokens
 */

/* ==========================================================================
   CSS Custom Properties - Light Theme (Default)
   ========================================================================== */
:root {
  /* Background colors */
  --bg-primary: #F5F5F0;
  --bg-surface: #FAFAF8;
  --bg-surface-alt: #FFFFFE;
  --bg-surface-hover: #F5F5F0;
  --bg-muted: #EFEDE8;
  --bg-input: #FFFFFE;

  /* Text colors */
  --text-primary: #1C1917;
  --text-secondary: #57534E;
  --text-muted: #78716C;
  --text-dimmed: #8B8780;

  /* Border colors */
  --border-default: #E5E2DC;
  --border-muted: #E8E5E0;

  /* Accent colors - Beacon brand */
  --accent-primary: #D97706;
  --accent-primary-dark: #B45309;
  --accent-primary-light: #F59E0B;
  --accent-primary-bg: rgba(217, 119, 6, 0.1);
  --accent-primary-bg-subtle: rgba(217, 119, 6, 0.08);

  /* Status colors */
  --status-success: #16A34A;
  --status-success-dark: #166534;
  --status-success-bg: rgba(22, 163, 74, 0.1);
  --status-success-alt: #10B981;

  --status-warning: #D97706;
  --status-warning-dark: #92400E;
  --status-warning-bg: rgba(217, 119, 6, 0.1);

  --status-error: #DC2626;
  --status-error-dark: #991B1B;
  --status-error-bg: rgba(220, 38, 38, 0.1);
  --status-error-alt: #EF4444;

  --status-info: #3B82F6;
  --status-info-dark: #1E40AF;
  --status-info-bg: rgba(59, 130, 246, 0.1);

  /* Neutral / Paused state */
  --status-neutral: #78716C;
  --status-neutral-dark: #57534E;
  --status-neutral-bg: #EFEDE8;

  /* Severity backgrounds */
  --severity-critical-bg: #FEE8E8;
  --severity-major-bg: #FEF3C7;
  --severity-minor-bg: #F5F4F2;

  /* Code block */
  --bg-code: #1A1A1A;
  --text-code: #E8E5E0;

  /* Card shadow */
  --card-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);

  /* Button gradients */
  --btn-primary-gradient: linear-gradient(135deg, #D97706 0%, #B45309 100%);
  --btn-primary-shadow: 0 1px 2px rgba(180, 83, 9, 0.2);

  /* Sidebar */
  --sidebar-bg: #fff;
  --sidebar-border: var(--border-muted);

  /* Incident alert */
  --incident-bg: rgba(220, 38, 38, 0.08);
  --incident-border: rgba(220, 38, 38, 0.15);
}

/* ==========================================================================
   CSS Custom Properties - Dark Theme
   ========================================================================== */
[data-theme="dark"],
.dark {
  /* Background colors - BrainzLab UI dark tokens */
  --bg-primary: #121212;
  --bg-surface: #1e1e1e;
  --bg-surface-alt: #1e1e1e;
  --bg-surface-hover: #2a2a2a;
  --bg-muted: #2a2a2a;
  --bg-input: #1e1e1e;

  /* Text colors */
  --text-primary: #e8e1d7;
  --text-secondary: #c0c0c0;
  --text-muted: #a0a0a0;
  --text-dimmed: #808080;

  /* Border colors */
  --border-default: #333333;
  --border-muted: #333333;

  /* Accent colors remain similar but slightly adjusted for dark */
  --accent-primary: #F59E0B;
  --accent-primary-dark: #D97706;
  --accent-primary-light: #FBBF24;
  --accent-primary-bg: rgba(245, 158, 11, 0.15);
  --accent-primary-bg-subtle: rgba(245, 158, 11, 0.1);

  /* Status colors - slightly brighter for dark mode */
  --status-success: #22C55E;
  --status-success-dark: #16A34A;
  --status-success-bg: rgba(34, 197, 94, 0.15);
  --status-success-alt: #10B981;

  --status-warning: #F59E0B;
  --status-warning-dark: #D97706;
  --status-warning-bg: rgba(245, 158, 11, 0.15);

  --status-error: #EF4444;
  --status-error-dark: #DC2626;
  --status-error-bg: rgba(239, 68, 68, 0.15);
  --status-error-alt: #F87171;

  --status-info: #60A5FA;
  --status-info-dark: #3B82F6;
  --status-info-bg: rgba(96, 165, 250, 0.15);

  /* Neutral / Paused state */
  --status-neutral: #a0a0a0;
  --status-neutral-dark: #808080;
  --status-neutral-bg: #2a2a2a;

  /* Severity backgrounds */
  --severity-critical-bg: rgba(239, 68, 68, 0.2);
  --severity-major-bg: rgba(245, 158, 11, 0.2);
  --severity-minor-bg: #2a2a2a;

  /* Code block */
  --bg-code: #0d0d0d;
  --text-code: #e8e1d7;

  /* Card shadow */
  --card-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);

  /* Button gradients */
  --btn-primary-gradient: linear-gradient(135deg, #F59E0B 0%, #D97706 100%);
  --btn-primary-shadow: 0 1px 2px rgba(217, 119, 6, 0.3);

  /* Sidebar */
  --sidebar-bg: #1e1e1e;
  --sidebar-border: #333333;

  /* Incident alert */
  --incident-bg: rgba(239, 68, 68, 0.15);
  --incident-border: rgba(239, 68, 68, 0.25);
}

/* ==========================================================================
   System Preference Support
   ========================================================================== */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    /* Background colors - BrainzLab UI dark tokens */
    --bg-primary: #121212;
    --bg-surface: #1e1e1e;
    --bg-surface-alt: #1e1e1e;
    --bg-surface-hover: #2a2a2a;
    --bg-muted: #2a2a2a;
    --bg-input: #1e1e1e;

    /* Text colors */
    --text-primary: #e8e1d7;
    --text-secondary: #c0c0c0;
    --text-muted: #a0a0a0;
    --text-dimmed: #808080;

    /* Border colors */
    --border-default: #333333;
    --border-muted: #333333;

    /* Accent colors */
    --accent-primary: #F59E0B;
    --accent-primary-dark: #D97706;
    --accent-primary-light: #FBBF24;
    --accent-primary-bg: rgba(245, 158, 11, 0.15);
    --accent-primary-bg-subtle: rgba(245, 158, 11, 0.1);

    /* Status colors */
    --status-success: #22C55E;
    --status-success-dark: #16A34A;
    --status-success-bg: rgba(34, 197, 94, 0.15);
    --status-success-alt: #10B981;

    --status-warning: #F59E0B;
    --status-warning-dark: #D97706;
    --status-warning-bg: rgba(245, 158, 11, 0.15);

    --status-error: #EF4444;
    --status-error-dark: #DC2626;
    --status-error-bg: rgba(239, 68, 68, 0.15);
    --status-error-alt: #F87171;

    --status-info: #60A5FA;
    --status-info-dark: #3B82F6;
    --status-info-bg: rgba(96, 165, 250, 0.15);

    /* Neutral / Paused state */
    --status-neutral: #a0a0a0;
    --status-neutral-dark: #808080;
    --status-neutral-bg: #2a2a2a;

    /* Severity backgrounds */
    --severity-critical-bg: rgba(239, 68, 68, 0.2);
    --severity-major-bg: rgba(245, 158, 11, 0.2);
    --severity-minor-bg: #2a2a2a;

    /* Code block */
    --bg-code: #0d0d0d;
    --text-code: #e8e1d7;

    /* Card shadow */
    --card-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);

    /* Button gradients */
    --btn-primary-gradient: linear-gradient(135deg, #F59E0B 0%, #D97706 100%);
    --btn-primary-shadow: 0 1px 2px rgba(217, 119, 6, 0.3);

    /* Sidebar */
    --sidebar-bg: #1e1e1e;
    --sidebar-border: #333333;

    /* Incident alert */
    --incident-bg: rgba(239, 68, 68, 0.15);
    --incident-border: rgba(239, 68, 68, 0.25);
  }
}

/* ==========================================================================
   Utility Classes
   ========================================================================== */

/* Backgrounds */
.bg-primary { background-color: var(--bg-primary) !important; }
.bg-surface { background-color: var(--bg-surface) !important; }
.bg-surface-alt { background-color: var(--bg-surface-alt) !important; }
.bg-surface-hover { background-color: var(--bg-surface-hover) !important; }
.bg-muted { background-color: var(--bg-muted) !important; }
.bg-input { background-color: var(--bg-input) !important; }

/* Text colors */
.text-primary { color: var(--text-primary) !important; }
.text-secondary { color: var(--text-secondary) !important; }
.text-muted { color: var(--text-muted) !important; }
.text-dimmed { color: var(--text-dimmed) !important; }

/* Borders */
.border-default { border-color: var(--border-default) !important; }
.border-muted { border-color: var(--border-muted) !important; }

/* Accent text */
.text-accent { color: var(--accent-primary) !important; }
.text-accent-dark { color: var(--accent-primary-dark) !important; }

/* ==========================================================================
   Component Classes
   ========================================================================== */

/* Cards */
.card {
  background-color: var(--bg-surface);
  border: 1px solid var(--border-default);
  box-shadow: var(--card-shadow);
}

/* Dashboard header/title */
.page-title {
  color: var(--text-primary);
}

.page-subtitle {
  color: var(--text-muted);
}

/* Form inputs */
.form-input {
  background-color: var(--bg-input);
  border: 1px solid var(--border-default);
  color: var(--text-primary);
}

.form-input:focus {
  border-color: var(--accent-primary);
  outline: none;
}

.form-input::placeholder {
  color: var(--text-dimmed);
}

.form-label {
  color: var(--text-primary);
}

.form-hint {
  color: var(--text-muted);
}

/* Tables */
.table-header {
  background-color: var(--bg-muted);
  border-bottom: 1px solid var(--border-default);
}

.table-header th {
  color: var(--text-muted);
}

.table-row {
  border-bottom: 1px solid var(--border-default);
}

.table-row:hover {
  background-color: var(--bg-surface-hover);
}

.table-cell {
  color: var(--text-secondary);
}

/* Sidebar */
.sidebar {
  background-color: var(--sidebar-bg);
  border-right: 1px solid var(--sidebar-border);
}

.sidebar-section-border {
  border-color: var(--sidebar-border);
}

/* Navigation links */
.nav-link {
  color: var(--text-secondary);
}

.nav-link:hover {
  color: var(--text-primary);
  background-color: var(--bg-surface-hover);
}

.nav-link.active {
  color: var(--accent-primary);
  background-color: var(--accent-primary-bg);
}

/* Status badges */
.badge {
  display: inline-flex;
  align-items: center;
  padding: 0.25rem 0.625rem;
  font-size: 0.6875rem;
  font-weight: 500;
  border-radius: 9999px;
}

.badge-success {
  background-color: var(--status-success-bg);
  color: var(--status-success-dark);
}

.badge-warning {
  background-color: var(--status-warning-bg);
  color: var(--status-warning-dark);
}

.badge-error {
  background-color: var(--status-error-bg);
  color: var(--status-error-dark);
}

.badge-info {
  background-color: var(--status-info-bg);
  color: var(--status-info-dark);
}

.badge-neutral {
  background-color: var(--status-neutral-bg);
  color: var(--status-neutral-dark);
}

/* Status indicators (dots) */
.status-indicator {
  width: 0.625rem;
  height: 0.625rem;
  border-radius: 9999px;
  flex-shrink: 0;
}

.status-indicator-success {
  background-color: var(--status-success);
}

.status-indicator-warning {
  background-color: var(--status-warning);
}

.status-indicator-error {
  background-color: var(--status-error);
}

.status-indicator-neutral {
  background-color: var(--status-neutral);
}

/* Buttons */
.btn-secondary {
  background-color: var(--bg-surface-alt);
  border: 1px solid var(--border-default);
  color: var(--text-primary);
}

.btn-secondary:hover {
  background-color: var(--bg-muted);
}

.btn-success {
  background-color: var(--status-success);
  color: white;
}

.btn-neutral {
  background-color: var(--status-neutral);
  color: white;
}

/* Filter pills */
.filter-pill {
  background-color: var(--bg-muted);
  color: var(--text-secondary);
}

.filter-pill.active {
  background: var(--btn-primary-gradient);
  color: white;
  box-shadow: var(--btn-primary-shadow);
}

/* Code blocks */
.code-block {
  background-color: var(--bg-code);
  color: var(--text-code);
}

/* Incident card */
.incident-card {
  background-color: var(--incident-bg);
  border: 1px solid var(--incident-border);
}

/* Severity badges */
.severity-critical {
  background-color: var(--severity-critical-bg);
  color: var(--status-error-dark);
}

.severity-major {
  background-color: var(--severity-major-bg);
  color: var(--status-warning-dark);
}

.severity-minor {
  background-color: var(--severity-minor-bg);
  color: var(--status-neutral-dark);
}

/* Action links */
.action-link {
  color: var(--accent-primary);
}

.action-link:hover {
  opacity: 0.7;
}

.action-link-muted {
  color: var(--text-muted);
}

.action-link-success {
  color: var(--status-success);
}

.action-link-error {
  color: var(--status-error);
}

/* Empty states */
.empty-state-icon {
  background-color: var(--accent-primary-bg);
  color: var(--accent-primary);
}

.empty-state-icon-success {
  background-color: var(--status-success-bg);
  color: var(--status-success);
}

/* Dividers */
.divider {
  border-color: var(--border-default);
}

/* Dark mode toggle button */
.dark-mode-toggle {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2rem;
  height: 2rem;
  border-radius: 0.5rem;
  background-color: transparent;
  color: var(--text-muted);
  cursor: pointer;
  transition: all 0.2s;
}

.dark-mode-toggle:hover {
  background-color: var(--bg-muted);
  color: var(--text-primary);
}

/* ==========================================================================
   Smooth Transitions
   ========================================================================== */
body,
.card,
.sidebar,
.form-input,
.btn-secondary,
.filter-pill,
.table-row,
.nav-link {
  transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
}
